---
title: "Aula 9 - Revisão"
output: rmdformats::downcute_chaos
---

##  <span style= "color:blue">IEE065 - Análise de Sobrevivência e Confiabilidade
#### Aluno: João Claudio da Silva Araujo Lobato
##### Amazoneida Sá Peixoto Pinheiro - Professora Associada do Depto. Estatística - UFAM
### Aula 09: Tópico III: Estimação não Paramétrica
#### Data: 10/02/2022

##  <span style= "color:red">Exercícios de Revisão
    
    * Na Aula de hoje faremos exercícios de aplicação da teoria dos tópicos I, II e III

##### Exercício: Livro Enrico, cap-2, ex-2

Os dados mostrados abaixo representam o tempo até a ruptura de um tipo de isolante elétrico sujeito a uma tensão de estresse de 35 Kvolts. O teste consistiu em deixar 25 destes isolantes funcionando até que 15 deles falhassem (censura do tipo II) obtendo-se os seguintes resultados (em minutos):

0,19   0,78   0,96   1,31   2,78   3,16   4,67   4,85   6,50   7,35    8,27             12,07   32,52   33,91   36,71

A partir destes dados amostrais, deseja-se obter as seguintes informações:

        (a)  estimativas  para a Sobrevivência por KM e NA;
        
$\hat{S}_{km}(0.19)=?$
        
$\hat{S}_{km}(0.78)=?$
        
        ....
        
$\hat{S}_{km}(36.71)=?$



```{r}
require(survival)
tempos=c(0.19,0.78,0.96,1.31,2.78,3.16,4.67,4.85,6.50,7.35,8.27,12.07,32.52,33.91,36.71)
cens=c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)

Surv(tempos,cens)
KM=survfit(Surv(tempos,cens)~1)
summary(KM)

```


        (b) uma estimativa (pontual e intervalar) para a fração de defeituosos esperada nos dois primeiros minutos de funcionamento;
        
$1-\hat{S}_{km}(2.0)=$

        (c) uma estimativa (pontual) para o tempo médio de vida destes  isoladores funcionando a 35 Kvolts (limitado em 40 minutos);uma estimativa para o tempo mediano de vida deste tipo de isolante el?trico funcionando a 35 Kvolts;

        (d) o tempo necessário para 20% dos isolantes estarem fora de operação.

```{r}
tempos<-c(0.19 ,  0.78,   0.96,   1.31,   2.78,   3.16,   4.67,   4.85,   6.50,   7.35,    8.27,     12.07 ,  32.52,   33.91,   36.71,36.71,36.71,36.71,36.71,36.71,36.71,36.17,36.71,36.71,36.71)
```

```{r}
cens<-c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0)
```

```{r message=FALSE, warning=FALSE}
Surv(tempos,cens)
```

```{r}
# Estimativas da Sobreviv?ncia por KM dos isolantes elétricos
KMi<-survfit(Surv(tempos,cens)~1)
```

```{r}
summary(KMi)
```

```{r}
plot(KMi, conf.int=F, col="darkblue",lwd=2,main="Estimativas da Sobreviv?ncia por KM dos isolantes el?tricos", xlab="Minutos")
```

```{r}
#  Códigos no R para o cálculo do Tempo médio
t=tempos[cens==1]
tj<-c(0,as.numeric(levels(as.factor(t))))
surv<-c(1,as.numeric(levels(as.factor(KMi$surv))))
surv<-sort(surv, decreasing=T)
k<-length(tj)-1
prod<-matrix(0,k,1)
   for(j in 1:k){
        prod[j]<-(tj[j+1]-tj[j])*surv[j]
}
tm<-sum(prod) 
tm
```

        * Tempo médio de vida dos isolantes elétricos = 20,9252 minutos

